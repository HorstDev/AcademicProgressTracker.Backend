// <auto-generated />
using System;
using AcademicProgressTracker.Persistence;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace AcademicProgressTracker.Persistence.Migrations
{
    [DbContext(typeof(AcademicProgressDataContext))]
    [Migration("20240129175824_Initial")]
    partial class Initial
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.1")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseSerialColumns(modelBuilder);

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.Group", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<int>("Course")
                        .HasColumnType("integer");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("YearCreated")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.ToTable("Groups");
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.LabWork", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<float>("MaximumScore")
                        .HasColumnType("real");

                    b.Property<int>("Number")
                        .HasColumnType("integer");

                    b.Property<Guid>("SubjectId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("SubjectId");

                    b.ToTable("LabWorks");
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.LabWorkStatus", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<bool>("IsCompleted")
                        .HasColumnType("boolean");

                    b.Property<Guid>("LabWorkId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("LabWorkId");

                    b.HasIndex("UserId");

                    b.ToTable("LabWorkStatuses");
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.Role", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.ToTable("Roles");

                    b.HasData(
                        new
                        {
                            Id = new Guid("64685a36-4404-4283-a2f1-119b5a82cdca"),
                            Name = "Student"
                        },
                        new
                        {
                            Id = new Guid("e37aa3aa-b51b-422d-9b5a-e3316032de05"),
                            Name = "Teacher"
                        },
                        new
                        {
                            Id = new Guid("263e4c27-f70e-4922-b5b8-3af54bedb27e"),
                            Name = "Admin"
                        });
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.Subject", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid>("GroupId")
                        .HasColumnType("uuid");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("Semester")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("GroupId");

                    b.ToTable("Subjects");
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.User", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<byte[]>("PasswordHash")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<byte[]>("PasswordSalt")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<string>("RefreshToken")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<DateTime>("TokenCreated")
                        .HasColumnType("timestamp without time zone");

                    b.Property<DateTime>("TokenExpires")
                        .HasColumnType("timestamp without time zone");

                    b.HasKey("Id");

                    b.ToTable("Users");

                    b.HasData(
                        new
                        {
                            Id = new Guid("2a1841da-e82f-4b5c-8089-51729f7a4202"),
                            Email = "admin@mail.ru",
                            PasswordHash = new byte[] { 148, 125, 215, 16, 217, 204, 150, 229, 38, 34, 184, 200, 15, 39, 15, 96, 204, 240, 93, 108, 232, 89, 133, 186, 54, 154, 221, 162, 228, 165, 218, 1, 194, 181, 100, 143, 171, 244, 122, 4, 31, 28, 208, 68, 132, 197, 217, 57, 246, 90, 11, 66, 48, 173, 175, 152, 218, 70, 145, 143, 65, 165, 163, 139 },
                            PasswordSalt = new byte[] { 90, 28, 239, 213, 229, 249, 11, 28, 235, 240, 45, 142, 29, 144, 144, 32, 138, 121, 107, 46, 206, 14, 82, 105, 231, 246, 128, 244, 203, 222, 170, 131, 179, 111, 243, 171, 212, 6, 132, 16, 179, 27, 239, 180, 6, 56, 109, 118, 117, 224, 7, 212, 23, 242, 243, 5, 112, 24, 151, 61, 97, 253, 46, 49, 24, 209, 62, 132, 76, 187, 155, 47, 231, 4, 254, 226, 113, 26, 200, 149, 232, 92, 150, 153, 0, 177, 177, 96, 138, 138, 192, 70, 110, 217, 6, 190, 245, 244, 16, 29, 62, 71, 28, 29, 98, 126, 178, 56, 81, 113, 40, 170, 103, 221, 54, 182, 56, 167, 101, 165, 195, 238, 233, 238, 123, 189, 142, 0 },
                            RefreshToken = "",
                            TokenCreated = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified),
                            TokenExpires = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified)
                        },
                        new
                        {
                            Id = new Guid("600fb485-1400-426c-9312-350616ca09d3"),
                            Email = "student@mail.ru",
                            PasswordHash = new byte[] { 73, 174, 219, 225, 213, 183, 44, 81, 43, 251, 110, 171, 9, 69, 43, 138, 208, 91, 13, 127, 111, 228, 80, 4, 51, 251, 145, 253, 154, 200, 6, 111, 215, 133, 46, 10, 194, 73, 126, 135, 171, 97, 236, 42, 234, 168, 139, 118, 225, 46, 113, 35, 137, 36, 160, 136, 107, 205, 30, 232, 219, 60, 27, 140 },
                            PasswordSalt = new byte[] { 161, 14, 186, 30, 39, 194, 144, 193, 103, 232, 67, 201, 201, 21, 166, 137, 234, 214, 94, 224, 30, 239, 163, 43, 91, 138, 203, 112, 158, 35, 17, 146, 74, 133, 202, 85, 73, 118, 183, 233, 169, 156, 85, 3, 176, 238, 235, 179, 63, 218, 196, 70, 52, 9, 178, 206, 173, 35, 245, 248, 185, 218, 5, 92, 193, 59, 231, 243, 216, 77, 59, 125, 133, 211, 37, 70, 71, 194, 0, 139, 29, 32, 162, 144, 21, 69, 94, 17, 82, 135, 224, 124, 57, 175, 233, 106, 255, 122, 74, 202, 185, 80, 128, 25, 237, 143, 6, 200, 201, 115, 110, 65, 133, 86, 210, 79, 57, 119, 90, 32, 92, 128, 113, 33, 253, 132, 212, 7 },
                            RefreshToken = "",
                            TokenCreated = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified),
                            TokenExpires = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified)
                        },
                        new
                        {
                            Id = new Guid("227bcf31-420a-4d42-a262-481796e1a762"),
                            Email = "teacher@mail.ru",
                            PasswordHash = new byte[] { 222, 41, 231, 160, 39, 231, 198, 86, 105, 168, 42, 54, 23, 144, 105, 143, 118, 153, 248, 221, 174, 132, 188, 205, 141, 173, 152, 142, 108, 254, 142, 248, 151, 133, 238, 66, 29, 187, 241, 144, 246, 64, 220, 144, 58, 252, 62, 134, 75, 47, 116, 254, 49, 47, 196, 186, 51, 17, 231, 0, 187, 74, 11, 7 },
                            PasswordSalt = new byte[] { 97, 16, 19, 254, 176, 153, 223, 46, 31, 238, 29, 0, 2, 3, 141, 241, 46, 100, 195, 59, 109, 160, 172, 51, 16, 246, 12, 198, 169, 92, 239, 135, 241, 213, 124, 214, 134, 15, 13, 22, 20, 167, 105, 15, 27, 11, 14, 193, 145, 139, 93, 81, 208, 90, 129, 60, 29, 219, 201, 153, 239, 243, 118, 104, 96, 224, 31, 3, 184, 238, 78, 190, 254, 134, 150, 124, 193, 225, 185, 215, 161, 139, 46, 153, 111, 73, 40, 153, 52, 69, 197, 96, 45, 12, 135, 16, 76, 98, 31, 238, 238, 158, 135, 7, 125, 28, 62, 50, 113, 119, 124, 1, 220, 44, 201, 171, 191, 247, 96, 73, 199, 83, 246, 185, 229, 83, 135, 17 },
                            RefreshToken = "",
                            TokenCreated = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified),
                            TokenExpires = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified)
                        },
                        new
                        {
                            Id = new Guid("9905bb0b-5703-4dff-80df-5609afcc70ed"),
                            Email = "teacherAdmin@mail.ru",
                            PasswordHash = new byte[] { 253, 51, 89, 9, 244, 193, 213, 231, 155, 27, 25, 163, 99, 170, 122, 70, 19, 78, 105, 13, 232, 83, 226, 124, 56, 151, 44, 34, 7, 20, 28, 127, 17, 122, 31, 151, 29, 163, 5, 47, 75, 133, 191, 223, 117, 219, 254, 6, 163, 73, 126, 122, 55, 75, 100, 21, 16, 139, 201, 73, 48, 77, 167, 197 },
                            PasswordSalt = new byte[] { 90, 64, 169, 95, 129, 115, 74, 29, 111, 136, 151, 128, 242, 227, 242, 152, 91, 217, 206, 36, 242, 6, 229, 34, 95, 141, 161, 204, 114, 48, 106, 203, 21, 138, 62, 47, 143, 140, 111, 110, 41, 83, 41, 121, 14, 129, 9, 164, 224, 216, 73, 222, 28, 8, 210, 25, 109, 84, 213, 37, 61, 33, 139, 60, 237, 251, 45, 162, 64, 31, 129, 236, 33, 169, 141, 197, 96, 247, 129, 105, 16, 193, 83, 236, 165, 42, 105, 235, 10, 93, 158, 63, 11, 87, 21, 86, 143, 43, 99, 211, 172, 255, 217, 110, 193, 169, 244, 180, 112, 103, 166, 134, 49, 140, 19, 43, 92, 141, 49, 255, 46, 95, 115, 231, 69, 155, 114, 203 },
                            RefreshToken = "",
                            TokenCreated = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified),
                            TokenExpires = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified)
                        });
                });

            modelBuilder.Entity("AcademicProgressTracker.Persistence.Models.UserGroup", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid>("GroupId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("GroupId");

                    b.HasIndex("RoleId");

                    b.HasIndex("UserId", "RoleId")
                        .IsUnique()
                        .HasFilter("\"RoleId\" = '64685a36-4404-4283-a2f1-119b5a82cdca'");

                    b.ToTable("UserGroup");
                });

            modelBuilder.Entity("AcademicProgressTracker.Persistence.Models.UserRole", b =>
                {
                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid");

                    b.HasKey("RoleId", "UserId");

                    b.HasIndex("UserId");

                    b.ToTable("UserRole", (string)null);

                    b.HasData(
                        new
                        {
                            RoleId = new Guid("263e4c27-f70e-4922-b5b8-3af54bedb27e"),
                            UserId = new Guid("2a1841da-e82f-4b5c-8089-51729f7a4202")
                        },
                        new
                        {
                            RoleId = new Guid("64685a36-4404-4283-a2f1-119b5a82cdca"),
                            UserId = new Guid("600fb485-1400-426c-9312-350616ca09d3")
                        },
                        new
                        {
                            RoleId = new Guid("e37aa3aa-b51b-422d-9b5a-e3316032de05"),
                            UserId = new Guid("227bcf31-420a-4d42-a262-481796e1a762")
                        },
                        new
                        {
                            RoleId = new Guid("e37aa3aa-b51b-422d-9b5a-e3316032de05"),
                            UserId = new Guid("9905bb0b-5703-4dff-80df-5609afcc70ed")
                        },
                        new
                        {
                            RoleId = new Guid("263e4c27-f70e-4922-b5b8-3af54bedb27e"),
                            UserId = new Guid("9905bb0b-5703-4dff-80df-5609afcc70ed")
                        });
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.LabWork", b =>
                {
                    b.HasOne("AcademicProgressTracker.Domain.Entities.Subject", "Subject")
                        .WithMany()
                        .HasForeignKey("SubjectId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Subject");
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.LabWorkStatus", b =>
                {
                    b.HasOne("AcademicProgressTracker.Domain.Entities.LabWork", "LabWork")
                        .WithMany()
                        .HasForeignKey("LabWorkId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("AcademicProgressTracker.Domain.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("LabWork");

                    b.Navigation("User");
                });

            modelBuilder.Entity("AcademicProgressTracker.Domain.Entities.Subject", b =>
                {
                    b.HasOne("AcademicProgressTracker.Domain.Entities.Group", "Group")
                        .WithMany()
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Group");
                });

            modelBuilder.Entity("AcademicProgressTracker.Persistence.Models.UserGroup", b =>
                {
                    b.HasOne("AcademicProgressTracker.Domain.Entities.Group", "Group")
                        .WithMany()
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("AcademicProgressTracker.Domain.Entities.Role", "Role")
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("AcademicProgressTracker.Domain.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Group");

                    b.Navigation("Role");

                    b.Navigation("User");
                });

            modelBuilder.Entity("AcademicProgressTracker.Persistence.Models.UserRole", b =>
                {
                    b.HasOne("AcademicProgressTracker.Domain.Entities.Role", "Role")
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("AcademicProgressTracker.Domain.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Role");

                    b.Navigation("User");
                });
#pragma warning restore 612, 618
        }
    }
}
